# FinOps Hub Resource Naming Convention

When you deploy the FinOps Hub template, Azure creates resources with specific naming patterns based on the **Hub Name** you provide during deployment.

## Naming Pattern Overview

All resource names are derived from your **Hub Name** parameter (e.g., `finops-hub`).

## Core Resources

### 1. **Storage Account**
- **Pattern**: `{hubName}{suffix}`
- **Example**: If Hub Name = `finops-hub`, Storage Account = `finopshubcore`
- **Note**: Storage account names are sanitized (hyphens removed, max 24 characters)
- **Purpose**: Data Lake Gen2 for cost data storage

### 2. **Azure Data Factory**
- **Pattern**: `{hubName}-engine-{suffix}`
- **Example**: If Hub Name = `finops-hub`, Data Factory = `finops-hub-engine-core`
- **Purpose**: Orchestrates cost data pipelines and transformations

### 3. **Key Vault**
- **Pattern**: `{hubName}-vault-{suffix}`
- **Example**: If Hub Name = `finops-hub`, Key Vault = `finops-hub-vault-core`
- **Purpose**: Stores secrets and connection strings securely

### 4. **Managed Identities** (3 identities)
- **Pattern**: `{resourceName}_{purpose}`
- **Examples**:
  - `finopshubcore_blobManager` - Manages blob storage operations
  - `finops-hub-engine-core` - Data Factory system identity
  - Additional identities for specific operations

### 5. **Event Grid System Topic**
- **Pattern**: Auto-generated by Azure based on storage account
- **Example**: `finopshubcore-{guid}`
- **Purpose**: Triggers pipelines when new cost data arrives

## Naming Rules & Limitations

### Storage Account
- **Max length**: 24 characters
- **Allowed characters**: Lowercase letters and numbers only
- **No hyphens or special characters**

### Data Factory
- **Max length**: 63 characters
- **Allowed characters**: Alphanumeric, hyphens
- **Must start with letter or number**

### Key Vault
- **Max length**: 24 characters
- **Allowed characters**: Alphanumeric, hyphens
- **Must start with letter**

## Recommended Hub Names

Choose a Hub Name that:
- Is descriptive and identifies your organization
- Keeps total length under 15 characters (leaves room for suffixes)
- Uses lowercase letters and hyphens only
- Follows pattern: `{company}-finops` or `{dept}-finops-hub`

### Good Examples:
- `contoso-finops` → Results in `contosofinopscore`, `contoso-finops-engine-core`, etc.
- `acme-hub` → Results in `acmehubcore`, `acme-hub-engine-core`, etc.
- `finops-prod` → Results in `finopsprodcore`, `finops-prod-engine-core`, etc.

### Avoid:
- Very long names (e.g., `my-company-finops-hub-production-v2`) - gets truncated
- Special characters or uppercase letters
- Starting with numbers

## Full Deployment Example

**Input**: Hub Name = `contoso-finops`

**Created Resources**:
1. Storage Account: `contosofinopscore`
2. Data Factory: `contoso-finops-engine-core`
3. Key Vault: `contoso-finops-vault-core`
4. Managed Identity 1: `contosofinopscore_blobManager`
5. Managed Identity 2: `contoso-finops-engine-core` (Data Factory identity)
6. Event Grid Topic: `contosofinopscore-{auto-generated-guid}`

## Resource Group

The resource group name is **not** created by the template - you select or create it during deployment in the Azure Portal's Basics section.

**Recommended Resource Group Naming**:
- `rg-finops-hub-{environment}` (e.g., `rg-finops-hub-prod`)
- `{company}-finops-rg` (e.g., `contoso-finops-rg`)

## Tags

All resources inherit tags you specify during deployment. Common tags:
- `Environment`: prod, dev, test
- `CostCenter`: Your department or cost center code
- `Owner`: Team or individual responsible
- `Project`: FinOps Hub
